# 第二章：Linux服务器系统使用基础（实验）
## 实验环境
+ VirtualBox Ubuntu 20.04.2 LTS

+ CentOS Linux 7.7.1908 （阿里云免费在线实验平台）
+ asciinema 
---

## 实验问题
+ 使用表格方式记录至少 2 个不同 Linux 发行版本上以下信息的获取方法，使用 `asciinema` 录屏方式「分段」记录相关信息的获取过程和结果

- 【软件包管理】在目标发行版上安装 `tmux` 和 `tshark` ；查看这 2 个软件被安装到哪些路径；卸载 tshark ；验证 tshark 卸载结果

- 【文件管理】复制以下shell代码到终端运行，在目标 Linux 发行版系统中构造测试数据集，然后回答以下问题：

  + 找到 `/tmp` 目录及其所有子目录下，文件名包含 `666` 的所有文件
  + 找到 `/tmp` 目录及其所有子目录下，文件内容包含 `666` 的所有文件
   > `cd /tmp && for i in $(seq 0 1024);do dir="test-$RANDOM";mkdir "$dir";echo "$RANDOM" > "$dir/$dir-$RANDOM";done`

- 【文件压缩与解压缩】练习课件中文件`压缩与解压缩`一节所有提到的压缩与解压缩命令的使用方法

- 【跟练】 `子进程管理实验`

- 【硬件信息获取】目标系统的 CPU、内存大小、硬盘数量与硬盘容量

------

## 实验流程

- `asciinema`的安装：

  + 在ubantu 20.04上安装`asciinema`：
  
  `sudo apt install asciinema`

  + 安装完成后，进行账号的关联：使用`asciinema auth`生成一个链接，将其在浏览器打开，即可完成账号关联。

  + 录像开始前，使用`asciinema rec`打开录像；而录像结束后，输入`exit`,再点击`enter`键，即可获得录像链接，将链接放在浏览器打开后即可观看录像。

-----
## 实验结果

- 录像内容太多，无法放在表格里，因此表格中只填写相关操作名称，对应录像放在下面

|  实验要求  |  ubantu 20.04  |  centos 7  |
|:---------:|:--------------:|:----------:|
|软件包管理| 录像1.1(3个) | 录像1.2(3个)|
|文件管理|录像1.2(2个) |[![find file name containing 666 and file containing 666](https://asciinema.org/a/484744.svg)](https://asciinema.org/a/484744)|
|文件压缩与解压缩|录像1.3(6个)|录像2.3(6个)|
|子进程管理实验|[![process management experiments](https://asciinema.org/a/484699.svg)](https://asciinema.org/a/484699)|[![child process management experiments](https://asciinema.org/a/484760.svg)](https://asciinema.org/a/484760)|
|硬件信息获取|[![view hardware information](https://asciinema.org/a/484725.svg)](https://asciinema.org/a/484725)|[![view hardware information](https://asciinema.org/a/484766.svg)](https://asciinema.org/a/484766)|


### 录像集

- 录像1.1（3个）
    
    + ubantu下载`tmux`和`tshark`

        [![download tmux and tshark](https://asciinema.org/a/484478.svg)](https://asciinema.org/a/484478)
    
    + ubantu查看软件安装路径   

        [![view software installation directory](https://asciinema.org/a/484483.svg)](https://asciinema.org/a/484483)
  
    + ubantu卸载tshark并验证

        [![unload tshark and verify](https://asciinema.org/a/484488.svg)](https://asciinema.org/a/484488)

- 录像1.2（2个）
   
    + ubantu找到文件名包含`666`的文件

        [![find the file name containing 666](https://asciinema.org/a/484675.svg)](https://asciinema.org/a/484675)

    + ubantu找到文件内容包含`666`的文件

        [![find the file containing 666](https://asciinema.org/a/484696.svg)](https://asciinema.org/a/484696)

- 录像1.3（6个）

    + ubantu `gzip`练习

        [![gzip test](https://asciinema.org/a/484700.svg)](https://asciinema.org/a/484700)

    + ubantu `bzip2`练习
    
        [![bzip2 test](https://asciinema.org/a/484701.svg)](https://asciinema.org/a/484701)

    + ubantu `zip`练习
    
        [![zip test](https://asciinema.org/a/484707.svg)](https://asciinema.org/a/484707)

    + ubantu `tar`练习
    
        [![tar test](https://asciinema.org/a/484710.svg)](https://asciinema.org/a/484710)

    + ubantu `p7zip`练习
    
        [![p7zip test](https://asciinema.org/a/484712.svg)](https://asciinema.org/a/484712)

    + ubantu `rar`练习
    
        [![rar test](https://asciinema.org/a/484720.svg)](https://asciinema.org/a/484720)

- 录像2.1（3个）

    + centos下载`tmux`和`tshark`
    
        [![download tmux and tshark](https://asciinema.org/a/484735.svg)](https://asciinema.org/a/484735)

    + centos查看软件下载路径
    
        [![view software installatixn directory](https://asciinema.org/a/484739.svg)](https://asciinema.org/a/484739)

    + centos卸载`tshark`并验证
    
        [![unload tshark and verify](https://asciinema.org/a/484743.svg)](https://asciinema.org/a/484743)

- 录像2.3（6个）

    + centos `gzip`练习
        [![gzip test](https://asciinema.org/a/484748.svg)](https://asciinema.org/a/484748)

    + centos `bzip2`练习
        [![bzip2 test](https://asciinema.org/a/484750.svg)](https://asciinema.org/a/484750)

    + centos `zip`练习
        [![zip test](https://asciinema.org/a/484751.svg)](https://asciinema.org/a/484751)

    + centos `tar`练习
        [![tar test](https://asciinema.org/a/484754.svg)](https://asciinema.org/a/484754)

    + centos `p7zip`练习
        [![p7zip test](https://asciinema.org/a/484755.svg)](https://asciinema.org/a/484755)

    + centos `rar`练习
        [![rar test](https://asciinema.org/a/484756.svg)](https://asciinema.org/a/484756)

----

## 实验问题

1. 在实验时，曾发生asciinema录像视频无法生成链接的情况，猜测可能是账号关联中断，但不知道是什么原因，当时尝试重新连接，但是并没有什么作用，后来发现是因为电脑没连上网，一连上就解决了。

2. 在进行【文件管理】实验时，系统先是出现大量乱码，后来又开始疯狂遍历/tmp中的文件，然后就去畅课讨论区看有没有类似的情况，发现有同学和我一样，并且还有解决方法。借助同学和老师的回答，这个问题就解决了

3. 在centos上进行实验时，发现许多在ubantu上可以执行的命令，在centos中并不能执行。如centos查看路径要用rpm，并且无法执行p7zip和rar命令。

---

## 参考链接

- [ubantu卸载软件并验证](https://blog.csdn.net/weixin_42672685/article/details/123045389)

- [ubantu grep查找文件内容](https://blog.csdn.net/qq_35451572/article/details/81094144)

- [ubantu tar的用法](https://blog.csdn.net/qq_42680785/article/details/115302528)

- [ubantu查看cpu信息](https://blog.csdn.net/weixin_36670529/article/details/111477247)

- [ubantu查看内存大小](https://www.bianchengquan.com/article/131353.html)

- [ubantu查看硬盘数量及容量](https://blog.csdn.net/sinat_16643223/article/details/116358136)

- [centos下载tmux和tshark](https://tsov.net/uupee/25372/)

- [centos查看硬件信息](https://blog.csdn.net/clouderpig/article/details/109474889)


